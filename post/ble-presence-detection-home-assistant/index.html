<!doctype html><html lang=en data-figures class=page><head><title>Presence Detection with BLE using monitor.sh & Home Assistant | Bas-Man's Musings</title><meta charset=utf-8><meta name=generator content="Hugo 0.80.0"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"><meta http-equiv=x-ua-compatible content="IE=edge"><script async src="https://www.googletagmanager.com/gtag/js?id=UA-166598762-1"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}
gtag('js',new Date());gtag('config','UA-166598762-1');</script><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta name=description content="I have been running Home Assistant for a while. Things are going well. But I have had some issues with presence detection using the standard device_tracker …"><meta name=twitter:card content="summary"><meta name=twitter:creator content><meta name=twitter:title content="Presence Detection with BLE using monitor.sh & Home Assistant"><meta property="og:url" content="https://bas-man.github.io/post/ble-presence-detection-home-assistant/"><meta property="og:title" content="Presence Detection with BLE using monitor.sh & Home Assistant"><meta property="og:description" content="I have been running Home Assistant for a while. Things are going well. But I have had some issues with presence detection using the standard device_tracker …"><meta property="og:image" content="https://bas-man.github.io/"><link rel=apple-touch-icon sizes=180x180 href=https://bas-man.github.io/icons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://bas-man.github.io/icons/favicon-32x32.png><link rel=manifest href=https://bas-man.github.io/icons/site.webmanifest><link rel=mask-icon href=https://bas-man.github.io/safari-pinned-tab.svg color=#002538><meta name=msapplication-TileColor content="#002538"><meta name=theme-color content="#002538"><link rel=canonical href=https://bas-man.github.io/post/ble-presence-detection-home-assistant/><link rel=preload href=https://bas-man.github.io/css/styles.782bf96a82b3cc5b3cee4c47a42cc81321f16960a6d41fab3277c4abe047bc7ae044ea1bb7ae4d237c12baa0143e02f95969e5e8b6e68d9dcfd14158cfa244ac.css integrity="sha512-eCv5aoKzzFs87kxHpCzIEyHxaWCm1B+rMnfEq+BHvHrgROobt65NI3wSuqAUPgL5WWnl6LbmjZ3P0UFYz6JErA==" as=style crossorigin=anonymous><link rel=preload href=https://bas-man.github.io/js/bundle.min.e1e83e690639bd489630e0481025439217297c7425a9c6349d82cd043a90b5287ee4a9f76828ae630e935cdae3b7536d2dbfee1465d1275874e037065e918b88.js as=script integrity="sha512-4eg+aQY5vUiWMOBIECVDkhcpfHQlqcY0nYLNBDqQtSh+5Kn3aCiuYw6TXNrjt1NtLb/uFGXRJ1h04DcGXpGLiA==" crossorigin=anonymous><link rel=stylesheet type=text/css href=https://bas-man.github.io/css/styles.782bf96a82b3cc5b3cee4c47a42cc81321f16960a6d41fab3277c4abe047bc7ae044ea1bb7ae4d237c12baa0143e02f95969e5e8b6e68d9dcfd14158cfa244ac.css integrity="sha512-eCv5aoKzzFs87kxHpCzIEyHxaWCm1B+rMnfEq+BHvHrgROobt65NI3wSuqAUPgL5WWnl6LbmjZ3P0UFYz6JErA==" crossorigin=anonymous><link rel=stylesheet href=/css/custom.css></head><body data-code=100 data-lines=false id=documentTop><header class=nav_header><nav class=nav><a href=https://bas-man.github.io/ class="nav_brand nav_item">Bas-Man's Musings<div class=nav_close><div><svg class="icon"><use xlink:href="#open-menu"/></svg><svg class="icon"><use xlink:href="#closeme"/></svg></div></div></a><div class="nav_body nav_body_"><div class=nav_parent><a href=https://bas-man.github.io/ class=nav_item>Home</a></div><div class=nav_parent><a href=https://bas-man.github.io/projects/ class=nav_item>Projects</a></div><div class=nav_parent><a href=https://bas-man.github.io/docs/ class=nav_item>Docs</a></div><div class=nav_parent><a href=https://bas-man.github.io/cheatsheets/ class=nav_item>References</a></div><div class=nav_parent><a href=https://bas-man.github.io/ class=nav_item>Snippets <img src=https://bas-man.github.io/icons/caret-icon.svg alt=icon class=nav_icon></a><div class=nav_sub><span class=nav_child></span><a href=https://bas-man.github.io/cheatsheets/git/snippets/ class="nav_child nav_item">Git</a>
<a href=https://bas-man.github.io/cheatsheets/perl/snippets/ class="nav_child nav_item">Perl</a>
<a href=https://bas-man.github.io/cheatsheets/python/snippets/ class="nav_child nav_item">Python</a></div></div><div class=nav_parent><a href=https://bas-man.github.io/about/ class=nav_item>About</a></div><div class=follow><a href=https://github.com/Bas-Man><svg class="icon"><use xlink:href="#github"/></svg></a><a href=https://dev.to/basman><svg class="icon"><use xlink:href="#dev"/></svg></a><a href="https://flipboard.com/@baspann/coding-kq8v8rh8z?from=share"><svg class="icon"><use xlink:href="#flipboard"/></svg></a><a href=https://bas-man.github.io/index.xml><svg class="icon"><use xlink:href="#rss"/></svg></a><div class=color_mode><input type=checkbox class=color_choice id=mode></div></div></div></nav></header><main><div class="grid-inverse wrap content"><article class=post_content><h1 class=post_title>Presence Detection with BLE using monitor.sh & Home Assistant</h1><div class=post_meta><svg class="icon"><use xlink:href="#calendar"/></svg><span class=post_date>Nov 12, 2020</span>
<a href=https://bas-man.github.io/tags/bluetooth class="post_tag button button_translucent">Bluetooth</a>
<a href=https://bas-man.github.io/tags/hassio class="post_tag button button_translucent">Hassio</a>
<a href=https://bas-man.github.io/tags/home-assistant class="post_tag button button_translucent">Home assistant</a>
<a href=https://bas-man.github.io/tags/presence class="post_tag button button_translucent">Presence</a></div><div class=post_share>Share on:
<a href="https://twitter.com/intent/tweet?text=Presence%20Detection%20with%20BLE%20using%20monitor.sh%20%26%20Home%20Assistant&url=https%3a%2f%2fbas-man.github.io%2fpost%2fble-presence-detection-home-assistant%2f&tw_p=tweetbutton" class=twitter title="Share on Twitter" target=_blank rel=nofollow><svg class="icon"><use xlink:href="#twitter"/></svg></a><a href="https://www.facebook.com/sharer.php?u=https%3a%2f%2fbas-man.github.io%2fpost%2fble-presence-detection-home-assistant%2f&t=Presence%20Detection%20with%20BLE%20using%20monitor.sh%20%26%20Home%20Assistant" class=facebook title="Share on Facebook" target=_blank rel=nofollow><svg class="icon"><use xlink:href="#facebook"/></svg></a><a href=#linkedinshare id=linkedinshare class=linkedin title="Share on LinkedIn" rel=nofollow><svg class="icon"><use xlink:href="#linkedin"/></svg></a><a href=https://bas-man.github.io/post/ble-presence-detection-home-assistant/ title="Copy Link" class="link link_yank"><svg class="icon"><use xlink:href="#copy"/></svg></a></div><p>I have been running <a href=https://www.home-assistant.io/hassio/>Home Assistant</a> for a while. Things are going well. But I have had some issues with presence detection using the standard <em>device_tracker</em> component. Though I live in a small place, being in Tokyo, Home Assistant sometimes stops detecting phones if they are in an area of the apartment a little away from the Home Assistant server. This I suspect is due to the position of the Raspberry Pi and the building material.</p><p>Doing some research I came across a possible solution using multiple BLE devices. I have opted to use <a href=https://github.com/andrewjfreyer/monitor>Monitor</a> a bash script solution.</p><p>This is a guide mostly for myself. I need to remember how it was setup. My approach has been to try and avoid rewriting my configuration and use most of my existing <em>tracker_device</em> automations.</p><h3 id=setup-mosquitto-mqtt-on-your-home-assistant>Setup Mosquitto (MQTT) on your Home Assistant</h3><p>I configured MQTT to use a username and password. This is all that is really needed to get things started.
If MQTT is already setup. Skip this step.</p><h3 id=hardware>Hardware</h3><p>In addition to my Home Assistant server. I have:</p><ul><li>Raspberry Pi Zero WH</li><li>Raspberry Pi 2 + Bluetooth dongle</li></ul><p> </p><h3 id=installation>Installation</h3><h4 id=os>OS</h4><p>For the most part I followed the guide at Level1Techs.</p><h4 id=setup-your-raspberry-pi-zero-wh>Setup your Raspberry Pi Zero W(H)</h4><ol><li>Download Raspbian</li><li>Image Raspbian</li><li>Mount the Boot Partition</li><li>Create wpa_supplicant.conf with this config:</li></ol><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln> 1</span><span class=nv>country</span><span class=o>=</span>US
<span class=ln> 2</span>
<span class=ln> 3</span><span class=nv>ctrl_interface</span><span class=o>=</span><span class=nv>DIR</span><span class=o>=</span>/var/run/wpa_supplicant <span class=nv>GROUP</span><span class=o>=</span>netdev
<span class=ln> 4</span>
<span class=ln> 5</span><span class=nv>update_config</span><span class=o>=</span><span class=m>1</span>
<span class=ln> 6</span>
<span class=ln> 7</span><span class=nv>network</span><span class=o>={</span>
<span class=ln> 8</span>
<span class=ln> 9</span><span class=nv>ssid</span><span class=o>=</span><span class=s2>&#34;Wireless Network Name&#34;</span>
<span class=ln>10</span>
<span class=ln>11</span><span class=nv>psk</span><span class=o>=</span><span class=s2>&#34;Wireless Network Password&#34;</span>
<span class=ln>12</span>
<span class=ln>13</span><span class=nv>key_mgmt</span><span class=o>=</span>WPA-PSK
<span class=ln>14</span>
<span class=ln>15</span><span class=o>}</span>
</code></pre></div><ol start=5><li>touch ssh</li></ol><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span> touch ssh
</code></pre></div><p>Step 5 will enable ssh to your device.</p><h4 id=finding-your-new-pi-on-the-network>Finding your new Pi on the network</h4><p>If your network is small you can simply run:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>arp -a
</code></pre></div><p>This will give you a list of devices currently connected to your network. So run this once before you power up the new Pi.</p><p>After you power up the Pi. Run the <em>arp</em> command again and see which new address appears in your list.</p><p>ssh into the new Pi using the standard username and password. Don't forget to change the password just as a matter of good security practice.</p><h4 id=packages--monitor>Packages / monitor</h4><h5 id=update-system-and-packages>Update system and packages</h5><p>Issue the follow commands</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>apt update <span class=o>&amp;&amp;</span> apt upgrade
<span class=ln>2</span>apt dist-upgrade
<span class=ln>3</span>apt install pi-bluetooth
</code></pre></div><p>Next reboot the device and login again once it's up.</p><h5 id=install-git-and-mosquitto>Install git and Mosquitto</h5><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>wget http://repo.mosquitto.org/debian/mosquitto-repo.gpg.key
<span class=ln>2</span>sudo apt-key add mosquitto-repo.gpg.key
</code></pre></div><p>If you are running Sketch</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>wget http://repo.mosquitto.org/debian/mosquitto-stretch.list
</code></pre></div><p>If you are running Buster</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>wget http://repo.mosquitto.org/debian/mosquitto-buster.list
</code></pre></div><p>then</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>apt-get update
</code></pre></div><p>If you have any issues. Take a look at <strong>The Level 1 Way</strong> guide listed below. You may need to install some additional packages.</p><h5 id=setup-monitor>Setup Monitor</h5><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>pi@raspberrypi:~ $ git clone https://github.com/andrewjfreyer/monitor.git
<span class=ln>2</span>pi@raspberrypi:~ $ <span class=nb>cd</span> monitor/
<span class=ln>3</span>pi@raspberrypi:~/monitor $ chmod +x ./monitor.sh
<span class=ln>4</span>pi@raspberrypi:~/monitor $ ./monitor.sh
</code></pre></div><p>I suggest running the command a few times to learn how monitor.sh works. Also this needs to be done to create the initial setup files that we will be editing. You might need to run the command with sudo if you are not logged in as root. When you are satisfied check that <strong>monitor</strong> is running with:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>systemctl status monitor
</code></pre></div><p>If not:</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>systemctl <span class=nb>enable</span> monitor
<span class=ln>2</span>systemctl start monitor
</code></pre></div><p>I will not document how I edited the <strong>/etc/systemd/system/monitor.services</strong> file. You will find information on options that others have used in the links below.</p><p>Next add any BT MAC addresses that you know to the <strong>known_static_addresses</strong> file.</p><p>One thing to note. The <em>alias</em> will be the name of the device in MQTT. If there is no alias, the MAC address will be used. More on this later.</p><p><strong>Updated 2020/Nov/12</strong></p><p>If you are monitoring a <em>Tile Device</em> do not place it in the <strong>known_static_addresses</strong>. This will make monitor see the device twice. Once with confidence 100% and again with 0%. The work a round that I have seen it to not place its MAC address in the file. You will need to use the MAC address instead of an alias in the sensor configuration.</p><p><strong>References</strong></p><ul><li><a href=https://community.home-assistant.io/t/bluetooth-le-tracker-issues/97705/33>1. Home Assistant Community - Bluetooth-le-Tracking-Issues</a></li><li><a href=https://community.home-assistant.io/t/monitor-reliable-multi-user-distributed-bluetooth-occupancy-presence-detection/68505/1416>2. Home Assistant Community - monitor-reliable-multi-user-distributed-bluetooth-occupancy-presence-detection</a></li><li><a href=https://github.com/andrewjfreyer/monitor/issues/183>3. GitHub - Active scanner + overrule HA 'consider_home' #183</a></li></ul><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span><span class=c1># ---------------------------</span>
<span class=ln>2</span><span class=c1>#</span>
<span class=ln>3</span><span class=c1># STATIC MAC ADDRESS LIST</span>
<span class=ln>4</span><span class=c1>#</span>
<span class=ln>5</span><span class=c1># 00:00:00:00:00:00 Alias #comment</span>
<span class=ln>6</span><span class=c1># ---------------------------</span>
<span class=ln>7</span> 00:00:00:00:00:00 person1_Phone
<span class=ln>8</span>
</code></pre></div><p>Configure <strong>mqtt_preferences</strong> so that we can connect and publish to our MQTT topics. </p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln> 1</span><span class=c1># ---------------------------</span>
<span class=ln> 2</span><span class=c1>#</span>
<span class=ln> 3</span><span class=c1># MOSQUITTO PREFERENCES</span>
<span class=ln> 4</span><span class=c1>#</span>
<span class=ln> 5</span><span class=c1># ---------------------------</span>
<span class=ln> 6</span>
<span class=ln> 7</span><span class=c1># IP ADDRESS OR HOSTNAME OF MQTT BROKER</span>
<span class=ln> 8</span><span class=nv>mqtt_address</span><span class=o>=</span>192.168.X.X
<span class=ln> 9</span>
<span class=ln>10</span><span class=c1># MQTT BROKER USERNAME</span>
<span class=ln>11</span><span class=nv>mqtt_user</span><span class=o>=</span>mqtt_username <span class=c1># This is what was configured on the MQTT Server.</span>
<span class=ln>12</span>
<span class=ln>13</span><span class=c1># MQTT BROKER PASSWORD</span>
<span class=ln>14</span><span class=nv>mqtt_password</span><span class=o>=</span>password <span class=c1>#Same case as username.</span>
<span class=ln>15</span>
<span class=ln>16</span><span class=c1># MQTT PUBLISH TOPIC ROOT</span>
<span class=ln>17</span><span class=nv>mqtt_topicpath</span><span class=o>=</span>monitor <span class=c1># &lt;- most configs use this.</span>
<span class=ln>18</span>
<span class=ln>19</span><span class=c1># PUBLISHER IDENTITY</span>
<span class=ln>20</span><span class=nv>mqtt_publisher_identity</span><span class=o>=</span><span class=s1>&#39;livingarea&#39;</span> <span class=c1>#&lt;- ID for one of the Pi servers eg. Pi Zero W</span>
<span class=ln>21</span>
<span class=ln>22</span><span class=c1># MQTT PORT</span>
<span class=ln>23</span><span class=nv>mqtt_port</span><span class=o>=</span><span class=s1>&#39;1883&#39;</span>
<span class=ln>24</span>
<span class=ln>25</span><span class=c1># MQTT CERTIFICATE FILE</span>
<span class=ln>26</span><span class=nv>mqtt_certificate_path</span><span class=o>=</span><span class=s1>&#39;&#39;</span>
<span class=ln>27</span>
<span class=ln>28</span><span class=c1>#MQTT VERSION (EXAMPLE: &#39;mqttv311&#39;)</span>
<span class=ln>29</span><span class=nv>mqtt_version</span><span class=o>=</span><span class=s1>&#39;&#39;</span>
</code></pre></div><h4 id=note>Note:</h4><p><strong>mqtt_topicpath</strong> should be the same on each of your monitoring servers.</p><p><strong>mqtt_publisher_identity</strong> must be unique for each server that will be sending MQTT messages to the HA server.</p><p>Test that MQTT server is getting the new notifications from your Pi devices.</p><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash><span class=ln>1</span>mosquitto_sub -h 192.168.X.X -u username -P passwd -t monitor/#
<span class=ln>2</span>
<span class=ln>3</span><span class=c1># Output</span>
<span class=ln>4</span><span class=o>{</span><span class=s2>&#34;id&#34;</span>:<span class=s2>&#34;00:00:00:00:00:00&#34;</span>,<span class=s2>&#34;confidence&#34;</span>:<span class=s2>&#34;100&#34;</span>,<span class=s2>&#34;name&#34;</span>:<span class=s2>&#34;person1_Phone&#34;</span>,
<span class=ln>5</span>  <span class=s2>&#34;manufacturer&#34;</span>:<span class=s2>&#34;Apple Inc&#34;</span>,<span class=s2>&#34;type&#34;</span>:<span class=s2>&#34;KNOWN_MAC&#34;</span>,<span class=s2>&#34;retained&#34;</span>:<span class=s2>&#34;true&#34;</span>,
<span class=ln>6</span>  <span class=s2>&#34;timestamp&#34;</span>:<span class=s2>&#34;.....&#34;</span> 
<span class=ln>7</span><span class=o>}</span>
</code></pre></div><p>Here we can see that devices are being seen and their <em>confidence level</em> from the <em>monitor.sh</em> is being reported.</p><p>At this point, after setting up all of the monitoring devices, it is time to move onto setting up HA.</p><h3 id=home-assistant-configuration>Home Assistant Configuration.</h3><h4 id=setup-the-sensor-part-of-the-configuration>Setup the sensor part of the configuration.</h4><p>We need to collect the MQTT messages into HA</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln> 1</span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>mqtt</span><span class=w>
</span><span class=ln> 2</span><span class=w>  </span><span class=nt>state_topic</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;monitor/front/person1_phone&#39;</span><span class=w>
</span><span class=ln> 3</span><span class=w>  </span><span class=nt>value_template</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{{ value_json.confidence }}&#39;</span><span class=w>
</span><span class=ln> 4</span><span class=w>  </span><span class=nt>unit_of_measurement</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;%&#39;</span><span class=w>
</span><span class=ln> 5</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Person1 Phone Front&#39;</span><span class=w>
</span><span class=ln> 6</span><span class=w>
</span><span class=ln> 7</span><span class=w></span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>mqtt</span><span class=w>
</span><span class=ln> 8</span><span class=w>  </span><span class=nt>state_topic</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;monitor/livingarea/person1_phone&#39;</span><span class=w>
</span><span class=ln> 9</span><span class=w>  </span><span class=nt>value_template</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{{ value_json.confidence }}&#39;</span><span class=w>
</span><span class=ln>10</span><span class=w>  </span><span class=nt>unit_of_measurement</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;%&#39;</span><span class=w>
</span><span class=ln>11</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Person1 Phone Living Area&#39;</span><span class=w>
</span><span class=ln>12</span><span class=w>
</span></code></pre></div><h4 id=added-2020nov12>Added 2020/Nov/12</h4><h5 id=tile-device-example>Tile Device Example</h5><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln> 1</span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>mqtt</span><span class=w>
</span><span class=ln> 2</span><span class=w>  </span><span class=nt>state_topic</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;monitor/front/XX::XX:XX:XX:XX:XX&#39;</span><span class=w>
</span><span class=ln> 3</span><span class=w>  </span><span class=nt>value_template</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{{ value_json.confidence }}&#39;</span><span class=w>
</span><span class=ln> 4</span><span class=w>  </span><span class=nt>unit_of_measurement</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;%&#39;</span><span class=w>
</span><span class=ln> 5</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Person1 Phone Front&#39;</span><span class=w>
</span><span class=ln> 6</span><span class=w>
</span><span class=ln> 7</span><span class=w></span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>mqtt</span><span class=w>
</span><span class=ln> 8</span><span class=w>  </span><span class=nt>state_topic</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;monitor/livingarea/XX::XX:XX:XX:XX:XX&#39;</span><span class=w>
</span><span class=ln> 9</span><span class=w>  </span><span class=nt>value_template</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{{ value_json.confidence }}&#39;</span><span class=w>
</span><span class=ln>10</span><span class=w>  </span><span class=nt>unit_of_measurement</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;%&#39;</span><span class=w>
</span><span class=ln>11</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Person1 Phone Living Area&#39;</span><span class=w>
</span></code></pre></div><p><strong>Note:</strong></p><ol><li>I have two entries as I have two devices running <strong>monitor</strong> in two locations in my home.</li><li>The topic is <em>person1_phone</em> which matches the alias used in the <strong>known_static_addresses</strong> file. If there was not an alias. These would be the actual MAC Addresses.</li></ol><p>The next part is still a work in progress. This is still in the sensor.yaml file.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln>1</span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>min_max</span><span class=w>
</span><span class=ln>2</span><span class=w>   </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Person1 Phone Home Confidence&#34;</span><span class=w>
</span><span class=ln>3</span><span class=w>   </span><span class=nt>type</span><span class=p>:</span><span class=w> </span><span class=l>mean</span><span class=w>
</span><span class=ln>4</span><span class=w>   </span><span class=nt>round_digits</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>
</span><span class=ln>5</span><span class=w>   </span><span class=nt>entity_ids</span><span class=p>:</span><span class=w>
</span><span class=ln>6</span><span class=w>     </span>- <span class=l>sensor.person1_phone_front</span><span class=w>
</span><span class=ln>7</span><span class=w>     </span>- <span class=l>sensor.person1_phone_living_area</span><span class=w>
</span></code></pre></div><p>This combines these two sensors and return the mean of their two values. In my case this often returns 50% since only one monitor server can detect the phone based on where it is.</p><p>Next we create a sensor that will return a 'True' or 'False' state. As mentioned my min_max generally returns 50%. So I want to have 'True' if the value is > 45% for safety.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln>1</span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>template</span><span class=w>
</span><span class=ln>2</span><span class=w>  </span><span class=nt>sensors</span><span class=p>:</span><span class=w>
</span><span class=ln>3</span><span class=w>    </span><span class=nt>is_person1_home</span><span class=p>:</span><span class=w>
</span><span class=ln>4</span><span class=w>      </span><span class=nt>friendly_name</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;Is Person1 Home?&#39;</span><span class=w>
</span><span class=ln>5</span><span class=w>      </span><span class=nt>value_template</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;{{ state_attr(&#34;sensor.person1_home_confidence&#34;,&#34;mean&#34;) | float &gt; 45 }}&#39;</span><span class=w>
</span></code></pre></div><p>The <strong>value_template</strong> could probably be changed to
<em>states('sensor.person1_home_confidence')</em>.</p><p>At this point we have a sensor that returns true or false if it can see the bluetooth device we are looking for. But it's not actually connected to any HA automations.</p><p>In my existing configuration I am using</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln>1</span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>bluetooth_le_tracker</span><span class=w>
</span><span class=ln>2</span><span class=w>
</span><span class=ln>3</span><span class=w></span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>bluetooth_tracker</span><span class=w>
</span></code></pre></div><p>Which auto populates the <strong>known_devices</strong> file.
These devices are then used as triggers for my automations. I want to avoid making larges changes. So we are going to make some virtual device_trackers. These will replace the ones created using the provided bluetooth trackers.</p><p>In the <strong>devices_tracker</strong> configuration file we will add something like:</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln>1</span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>mqtt</span><span class=w>
</span><span class=ln>2</span><span class=w>  </span><span class=nt>source_type</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;bluetooth&#39;</span><span class=w>
</span><span class=ln>3</span><span class=w>  </span><span class=nt>devices</span><span class=p>:</span><span class=w>
</span><span class=ln>4</span><span class=w>    </span><span class=nt>person1</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;location/person1&#39;</span><span class=w>
</span></code></pre></div><p>We are basically saying that we are want an MQTT Topic called location/person1. We will be publishing state to this with some scripts later.</p><p>This is where I actually got stuck and it wasn't until I found <a href=https://community.home-assistant.io/t/combining-multiple-device-trackers-into-one-using-mqtt/45324>this bit of wisdom</a> that things fell into place.</p><p>We need to manaully add entries to the <strong>known_devices</strong> file.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln>1</span><span class=nt>person1</span><span class=p>:</span><span class=w>
</span><span class=ln>2</span><span class=w>  </span><span class=nt>hide_if_away</span><span class=p>:</span><span class=w> </span><span class=kc>false</span><span class=w>
</span><span class=ln>3</span><span class=w>  </span><span class=nt>icon</span><span class=p>:</span><span class=w>
</span><span class=ln>4</span><span class=w>  </span><span class=nt>mac</span><span class=p>:</span><span class=w>
</span><span class=ln>5</span><span class=w>  </span><span class=nt>picture</span><span class=p>:</span><span class=w>
</span><span class=ln>6</span><span class=w>  </span><span class=nt>vendor</span><span class=p>:</span><span class=w>
</span><span class=ln>7</span><span class=w>  </span><span class=nt>track</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span><span class=ln>8</span><span class=w>  </span><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Test Person</span><span class=w>
</span></code></pre></div><p>We now have a <strong>device_tracker.person1</strong> which will have its state taken from <strong>MQTT:location/person1</strong></p><p><strong>Note:</strong></p><p>If you test this state you will get a <strong>source: null</strong>. This will not be set until we first publish to MQTT.</p><h4 id=moving-on-to-the-scripts>Moving on to the scripts</h4><p>Now we need to start being able to update the <strong>MQTT:location/person1</strong> so that <strong>device_tracker.person1</strong> will have either a <strong>'home'</strong> or <strong>'not_home'</strong> state.</p><p>We will edit our script configuration files.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln> 1</span><span class=nt>&#39;person1_home&#39;</span><span class=p>:</span><span class=w>
</span><span class=ln> 2</span><span class=w>  </span><span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Person1 Home&#34;</span><span class=w>
</span><span class=ln> 3</span><span class=w>  </span><span class=nt>sequence</span><span class=p>:</span><span class=w>
</span><span class=ln> 4</span><span class=w>    </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>mqtt.publish</span><span class=w>
</span><span class=ln> 5</span><span class=w>      </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span><span class=ln> 6</span><span class=w>        </span><span class=nt>topic</span><span class=p>:</span><span class=w> </span><span class=l>location/person1</span><span class=w>
</span><span class=ln> 7</span><span class=w>        </span><span class=nt>payload</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;home&#39;</span><span class=w>
</span><span class=ln> 8</span><span class=w>
</span><span class=ln> 9</span><span class=w></span><span class=nt>&#39;person1_away&#39;</span><span class=p>:</span><span class=w>
</span><span class=ln>10</span><span class=w>  </span><span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Person1 away&#34;</span><span class=w>
</span><span class=ln>11</span><span class=w>  </span><span class=nt>sequence</span><span class=p>:</span><span class=w>
</span><span class=ln>12</span><span class=w>    </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>mqtt.publish</span><span class=w>
</span><span class=ln>13</span><span class=w>      </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span><span class=ln>14</span><span class=w>        </span><span class=nt>topic</span><span class=p>:</span><span class=w> </span><span class=l>location/person1</span><span class=w>
</span><span class=ln>15</span><span class=w>        </span><span class=nt>payload</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;not_home&#39;</span><span class=w>
</span><span class=ln>16</span><span class=w>
</span></code></pre></div><p>These two scripts will update the device_tracker so that we can use their state. We will need an automation so that the state is updated.</p><p>But I will add a bonus script here as well. This will trigger a bluetooth rescan. This can be triggered on a restart of HA with an automation.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln>1</span><span class=nt>&#39;bt_rescan&#39;</span><span class=p>:</span><span class=w>
</span><span class=ln>2</span><span class=w>  </span><span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;Issue BT Rescan&#34;</span><span class=w>
</span><span class=ln>3</span><span class=w>  </span><span class=nt>sequence</span><span class=p>:</span><span class=w>
</span><span class=ln>4</span><span class=w>    </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>mqtt.publish</span><span class=w>
</span><span class=ln>5</span><span class=w>      </span><span class=nt>data</span><span class=p>:</span><span class=w>
</span><span class=ln>6</span><span class=w>        </span><span class=nt>topic</span><span class=p>:</span><span class=w> </span><span class=l>monitor/scan/restart</span><span class=w>
</span><span class=ln>7</span><span class=w>        </span><span class=nt>payload</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;&#39;</span><span class=w>
</span></code></pre></div><p>Add the following configuration to automations.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln> 1</span>- <span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class=l>Set Person home</span><span class=w>
</span><span class=ln> 2</span><span class=w>  </span><span class=nt>initial_state</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;on&#39;</span><span class=w>
</span><span class=ln> 3</span><span class=w>  </span><span class=nt>trigger</span><span class=p>:</span><span class=w>
</span><span class=ln> 4</span><span class=w>    </span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>state</span><span class=w>
</span><span class=ln> 5</span><span class=w>      </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>sensor.is_person1_home</span><span class=w>
</span><span class=ln> 6</span><span class=w>    </span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>homeassistant</span><span class=w>
</span><span class=ln> 7</span><span class=w>      </span><span class=nt>event</span><span class=p>:</span><span class=w> </span><span class=l>start</span><span class=w>
</span><span class=ln> 8</span><span class=w>  </span><span class=nt>condition</span><span class=p>:</span><span class=w>
</span><span class=ln> 9</span><span class=w>    </span>- <span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>state</span><span class=w>
</span><span class=ln>10</span><span class=w>      </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;sensor.is_person1_home&#39;</span><span class=w>
</span><span class=ln>11</span><span class=w>      </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;True&#39;</span><span class=w>
</span><span class=ln>12</span><span class=w>  </span><span class=nt>action</span><span class=p>:</span><span class=w>
</span><span class=ln>13</span><span class=w>    </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>script.person1_home</span><span class=w>
</span><span class=ln>14</span><span class=w>
</span><span class=ln>15</span><span class=w></span>- <span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class=l>Set Person1 away</span><span class=w>
</span><span class=ln>16</span><span class=w>  </span><span class=nt>initial_state</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;on&#39;</span><span class=w>
</span><span class=ln>17</span><span class=w>  </span><span class=nt>trigger</span><span class=p>:</span><span class=w>
</span><span class=ln>18</span><span class=w>    </span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>state</span><span class=w>
</span><span class=ln>19</span><span class=w>      </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=l>sensor.is_person1_home</span><span class=w>
</span><span class=ln>20</span><span class=w>    </span>- <span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>homeassistant</span><span class=w>
</span><span class=ln>21</span><span class=w>      </span><span class=nt>event</span><span class=p>:</span><span class=w> </span><span class=l>start</span><span class=w>
</span><span class=ln>22</span><span class=w>  </span><span class=nt>condition</span><span class=p>:</span><span class=w>
</span><span class=ln>23</span><span class=w>    </span>- <span class=nt>condition</span><span class=p>:</span><span class=w> </span><span class=l>state</span><span class=w>
</span><span class=ln>24</span><span class=w>      </span><span class=nt>entity_id</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;sensor.is_person1_home&#39;</span><span class=w>
</span><span class=ln>25</span><span class=w>      </span><span class=nt>state</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;False&#39;</span><span class=w>
</span><span class=ln>26</span><span class=w>  </span><span class=nt>action</span><span class=p>:</span><span class=w>
</span><span class=ln>27</span><span class=w>    </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>script.person1_away</span><span class=w>
</span></code></pre></div><p>This is where we link everything together. We also have the automations trigger when HA starts up. So we get some initial state.</p><p>I personally also opted to have a BT scan triggered when ever HA restarts.</p><p>I added this configuration to automations.</p><div class=highlight><pre class=chroma><code class=language-yaml data-lang=yaml><span class=ln>1</span><span class=nt>alias</span><span class=p>:</span><span class=w> </span><span class=s2>&#34;HA Started&#34;</span><span class=w>
</span><span class=ln>2</span><span class=w></span><span class=nt>initial_state</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;on&#39;</span><span class=w>
</span><span class=ln>3</span><span class=w></span><span class=nt>trigger</span><span class=p>:</span><span class=w>
</span><span class=ln>4</span><span class=w>  </span><span class=nt>platform</span><span class=p>:</span><span class=w> </span><span class=l>homeassistant</span><span class=w>
</span><span class=ln>5</span><span class=w>  </span><span class=nt>event</span><span class=p>:</span><span class=w> </span><span class=l>start</span><span class=w>
</span><span class=ln>6</span><span class=w></span><span class=nt>action</span><span class=p>:</span><span class=w>
</span><span class=ln>7</span><span class=w>  </span>- <span class=nt>service</span><span class=p>:</span><span class=w> </span><span class=l>script.bt_rescan</span><span class=w>
</span></code></pre></div><p>The final step is the replace all the previous device_tracker references with the new manaully created ones listed in <strong>known_devices.yaml</strong></p><h3 id=final-thoughts>Final Thoughts</h3><p>This is not yet an Ideal setup. I am still working on it. But if you look at the blog links below you might get some more ideas. I am still reading through them and improving things.</p><p>As I stated at the start. This is mostly for me so that I have some documentation for myself.</p><p>But I hope others might find it useful. Since I had to work through it and piece it together.</p><p>Thanks to those who posted the work online. It was invaluable. The main part I found missing was the <strong>known_devices.yaml</strong></p><hr><h3 id=references>References</h3><ul><li><a href=https://forum.level1techs.com/t/bluetooth-presence-detection-for-home-automation-the-level1-way/148516>Bluetooth Presence Detection for Home Automation – The Level1 Way</a></li><li><a href=https://community.home-assistant.io/t/monitor-reliable-multi-user-distributed-bluetooth-occupancy-presence-detection/68505>[monitor] Reliable, Multi-User, Distributed Bluetooth Occupancy/Presence Detection</a></li></ul><h4 id=these-are-links-to-a-single-ha-user-the-config-is-far-beyond-what-i-need-but-its-a-great-resource>These are links to a single HA user. The config is far beyond what I need. But it's a great resource</h4><ul><li><a href=https://blog.ceard.tech/2019/03/presence-detection-are-we-nearly-there.html>Presence detection - are we nearly there yet?</a></li><li><a href=https://blog.ceard.tech/2019/10/presence-detection-final-countdown.html>Presence detection, the final countdown?</a></li><li><a href=https://blog.ceard.tech/2018/09/a-while-back-i-covered-how-i-was-doing.html>Presence detection updated</a></li><li><a href=https://github.com/DubhAd/Home-AssistantConfig>GitHub Repo</a></li></ul><h4 id=some-missing-magic>Some missing Magic</h4><ul><li><a href=https://community.home-assistant.io/t/combining-multiple-device-trackers-into-one-using-mqtt/45324>The missing magic to make MQTT State usable as a device_tracker</a></li></ul><h3 id=software>Software</h3><ul><li><a href=https://github.com/andrewjfreyer/monitor>Monitor</a></li></ul></article><aside class=sidebar><section class=sidebar_inner><h2>Bas-Man</h2><div class=sidebar_description>I like my tech, books and learning.</div><a href=https://bas-man.github.io/about/ class="button mt-1" role=button>Read More</a><h2 class=mt-4>Featured Posts</h2><ul><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-7/ class=nav-link>Google API Gmail LINE Notifications Part 7</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-6/ class=nav-link>Google API Gmail LINE Notifications Part 6</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-5/ class=nav-link>Google API Gmail LINE Notifications Part 5</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-4/ class=nav-link>Google API Gmail LINE Notifications Part 4</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-3/ class=nav-link>Google API Gmail LINE Notifications Part 3</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-2/ class=nav-link>Google API Gmail LINE Notifications Part 2</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-1/ class=nav-link>Google API Gmail LINE Notifications Part 1</a></li><li><a href=https://bas-man.github.io/post/generic-regex-match-function-multiple-groups/ class=nav-link>Generic Regex Match Function Multiple Groups</a></li></ul><h2 class=mt-4>Recent Posts</h2><ul class=flex-column><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-7/ class=nav-link>Google API Gmail LINE Notifications Part 7</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-6/ class=nav-link>Google API Gmail LINE Notifications Part 6</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-5/ class=nav-link>Google API Gmail LINE Notifications Part 5</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-4/ class=nav-link>Google API Gmail LINE Notifications Part 4</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-3/ class=nav-link>Google API Gmail LINE Notifications Part 3</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-2/ class=nav-link>Google API Gmail LINE Notifications Part 2</a></li><li><a href=https://bas-man.github.io/post/google-api-gmail-notifications-1/ class=nav-link>Google API Gmail LINE Notifications Part 1</a></li><li><a href=https://bas-man.github.io/post/generic-regex-match-function-multiple-groups/ class=nav-link>Generic Regex Match Function Multiple Groups</a></li></ul><div><h2 class="mt-4 taxonomy" id=categories-section>Categories</h2><nav class=tags_nav><a href=https://bas-man.github.io/categories/coding/ class="post_tag button button_translucent">CODING
<span class=button_tally>18</span></a>
<a href=https://bas-man.github.io/categories/guide/ class="post_tag button button_translucent">GUIDE
<span class=button_tally>9</span></a>
<a href=https://bas-man.github.io/categories/code-snippet/ class="post_tag button button_translucent">CODE-SNIPPET
<span class=button_tally>5</span></a>
<a href=https://bas-man.github.io/categories/development/ class="post_tag button button_translucent">DEVELOPMENT
<span class=button_tally>4</span></a>
<a href=https://bas-man.github.io/categories/automation/ class="post_tag button button_translucent">AUTOMATION
<span class=button_tally>3</span></a>
<a href=https://bas-man.github.io/categories/home-assistant/ class="post_tag button button_translucent">HOME-ASSISTANT
<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/categories/software/ class="post_tag button button_translucent">SOFTWARE
<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/categories/applescript/ class="post_tag button button_translucent">APPLESCRIPT
<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/bash/ class="post_tag button button_translucent">BASH
<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/docker/ class="post_tag button button_translucent">DOCKER
<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/front-end/ class="post_tag button button_translucent">FRONT-END
<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/github/ class="post_tag button button_translucent">GITHUB
<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/home-automation/ class="post_tag button button_translucent">HOME-AUTOMATION
<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/notify/ class="post_tag button button_translucent">NOTIFY
<span class=button_tally>1</span></a><br><div class="post_tags_toggle button">All Categories</div><div class=post_tags><div class=tags_list><a href=https://bas-man.github.io/categories/applescript/ class="post_tag button button_translucent" data-position=1>APPLESCRIPT<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/automation/ class="post_tag button button_translucent" data-position=3>AUTOMATION<span class=button_tally>3</span></a>
<a href=https://bas-man.github.io/categories/bash/ class="post_tag button button_translucent" data-position=1>BASH<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/code-snippet/ class="post_tag button button_translucent" data-position=5>CODE-SNIPPET<span class=button_tally>5</span></a>
<a href=https://bas-man.github.io/categories/coding/ class="post_tag button button_translucent" data-position=18>CODING<span class=button_tally>18</span></a>
<a href=https://bas-man.github.io/categories/development/ class="post_tag button button_translucent" data-position=4>DEVELOPMENT<span class=button_tally>4</span></a>
<a href=https://bas-man.github.io/categories/docker/ class="post_tag button button_translucent" data-position=1>DOCKER<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/front-end/ class="post_tag button button_translucent" data-position=1>FRONT-END<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/github/ class="post_tag button button_translucent" data-position=1>GITHUB<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/guide/ class="post_tag button button_translucent" data-position=9>GUIDE<span class=button_tally>9</span></a>
<a href=https://bas-man.github.io/categories/home-assistant/ class="post_tag button button_translucent" data-position=2>HOME-ASSISTANT<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/categories/home-automation/ class="post_tag button button_translucent" data-position=1>HOME-AUTOMATION<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/notify/ class="post_tag button button_translucent" data-position=1>NOTIFY<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/perl/ class="post_tag button button_translucent" data-position=1>PERL<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/project/ class="post_tag button button_translucent" data-position=1>PROJECT<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/software/ class="post_tag button button_translucent" data-position=2>SOFTWARE<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/categories/thoughts/ class="post_tag button button_translucent" data-position=1>THOUGHTS<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/categories/web/ class="post_tag button button_translucent" data-position=1>WEB<span class=button_tally>1</span></a><div class=tags_sort><span title="sort alphabetically">[A~Z]</span><span title="sort by count">[0~9]</span></div><span class=tags_hide><svg class="icon"><use xlink:href="#closeme"/></svg></span></div></div></nav></div><div><h2 class="mt-4 taxonomy" id=series-section>Series</h2><nav class=tags_nav><a href=https://bas-man.github.io/series/using-googles-apis-related-to-gmail/ class="post_tag button button_translucent">USING-GOOGLES-APIS-RELATED-TO-GMAIL
<span class=button_tally>7</span></a>
<a href=https://bas-man.github.io/series/self-hosted-zapier-alternative/ class="post_tag button button_translucent">SELF-HOSTED-ZAPIER-ALTERNATIVE
<span class=button_tally>2</span></a></nav></div><div><h2 class="mt-4 taxonomy" id=tags-section>Tags</h2><nav class=tags_nav><a href=https://bas-man.github.io/tags/python/ class="post_tag button button_translucent">PYTHON
<span class=button_tally>16</span></a>
<a href=https://bas-man.github.io/tags/notification/ class="post_tag button button_translucent">NOTIFICATION
<span class=button_tally>9</span></a>
<a href=https://bas-man.github.io/tags/gmail/ class="post_tag button button_translucent">GMAIL
<span class=button_tally>8</span></a>
<a href=https://bas-man.github.io/tags/api/ class="post_tag button button_translucent">API
<span class=button_tally>7</span></a>
<a href=https://bas-man.github.io/tags/automation/ class="post_tag button button_translucent">AUTOMATION
<span class=button_tally>6</span></a>
<a href=https://bas-man.github.io/tags/github/ class="post_tag button button_translucent">GITHUB
<span class=button_tally>4</span></a>
<a href=https://bas-man.github.io/tags/hugo/ class="post_tag button button_translucent">HUGO
<span class=button_tally>4</span></a>
<a href=https://bas-man.github.io/tags/perl/ class="post_tag button button_translucent">PERL
<span class=button_tally>3</span></a>
<a href=https://bas-man.github.io/tags/regex/ class="post_tag button button_translucent">REGEX
<span class=button_tally>3</span></a>
<a href=https://bas-man.github.io/tags/actions/ class="post_tag button button_translucent">ACTIONS
<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/backup/ class="post_tag button button_translucent">BACKUP
<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/blog/ class="post_tag button button_translucent">BLOG
<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/cpan/ class="post_tag button button_translucent">CPAN
<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/cron/ class="post_tag button button_translucent">CRON
<span class=button_tally>2</span></a><br><div class="post_tags_toggle button">All Tags</div><div class=post_tags><div class=tags_list><a href=https://bas-man.github.io/tags/actions/ class="post_tag button button_translucent" data-position=2>ACTIONS<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/api/ class="post_tag button button_translucent" data-position=7>API<span class=button_tally>7</span></a>
<a href=https://bas-man.github.io/tags/applescript/ class="post_tag button button_translucent" data-position=1>APPLESCRIPT<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/automation/ class="post_tag button button_translucent" data-position=6>AUTOMATION<span class=button_tally>6</span></a>
<a href=https://bas-man.github.io/tags/backup/ class="post_tag button button_translucent" data-position=2>BACKUP<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/bash/ class="post_tag button button_translucent" data-position=1>BASH<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/blog/ class="post_tag button button_translucent" data-position=2>BLOG<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/bluetooth/ class="post_tag button button_translucent" data-position=1>BLUETOOTH<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/buster/ class="post_tag button button_translucent" data-position=1>BUSTER<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/ci/ class="post_tag button button_translucent" data-position=1>CI<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/continuous/ class="post_tag button button_translucent" data-position=1>CONTINUOUS<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/cookies/ class="post_tag button button_translucent" data-position=1>COOKIES<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/cpan/ class="post_tag button button_translucent" data-position=2>CPAN<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/cron/ class="post_tag button button_translucent" data-position=2>CRON<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/crontab/ class="post_tag button button_translucent" data-position=2>CRONTAB<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/css/ class="post_tag button button_translucent" data-position=1>CSS<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/debian/ class="post_tag button button_translucent" data-position=1>DEBIAN<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/decode/ class="post_tag button button_translucent" data-position=1>DECODE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/detection/ class="post_tag button button_translucent" data-position=1>DETECTION<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/docker/ class="post_tag button button_translucent" data-position=1>DOCKER<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/double-byte/ class="post_tag button button_translucent" data-position=1>DOUBLE-BYTE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/email/ class="post_tag button button_translucent" data-position=2>EMAIL<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/exclude/ class="post_tag button button_translucent" data-position=1>EXCLUDE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/extract/ class="post_tag button button_translucent" data-position=1>EXTRACT<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/generate/ class="post_tag button button_translucent" data-position=1>GENERATE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/git/ class="post_tag button button_translucent" data-position=2>GIT<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/github/ class="post_tag button button_translucent" data-position=4>GITHUB<span class=button_tally>4</span></a>
<a href=https://bas-man.github.io/tags/gmail/ class="post_tag button button_translucent" data-position=8>GMAIL<span class=button_tally>8</span></a>
<a href=https://bas-man.github.io/tags/hassio/ class="post_tag button button_translucent" data-position=2>HASSIO<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/home-assistant/ class="post_tag button button_translucent" data-position=2>HOME-ASSISTANT<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/hosting/ class="post_tag button button_translucent" data-position=1>HOSTING<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/hotfix/ class="post_tag button button_translucent" data-position=1>HOTFIX<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/html/ class="post_tag button button_translucent" data-position=1>HTML<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/hugo/ class="post_tag button button_translucent" data-position=4>HUGO<span class=button_tally>4</span></a>
<a href=https://bas-man.github.io/tags/integration/ class="post_tag button button_translucent" data-position=1>INTEGRATION<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/introduction/ class="post_tag button button_translucent" data-position=1>INTRODUCTION<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/japanese/ class="post_tag button button_translucent" data-position=1>JAPANESE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/javascript/ class="post_tag button button_translucent" data-position=1>JAVASCRIPT<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/lastmod/ class="post_tag button button_translucent" data-position=1>LASTMOD<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/launchd/ class="post_tag button button_translucent" data-position=1>LAUNCHD<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/line/ class="post_tag button button_translucent" data-position=1>LINE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/mac-mini/ class="post_tag button button_translucent" data-position=1>MAC-MINI<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/mac-os/ class="post_tag button button_translucent" data-position=2>MAC-OS<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/merge/ class="post_tag button button_translucent" data-position=1>MERGE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/metacpan/ class="post_tag button button_translucent" data-position=1>METACPAN<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/mock/ class="post_tag button button_translucent" data-position=1>MOCK<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/module/ class="post_tag button button_translucent" data-position=2>MODULE<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/notification/ class="post_tag button button_translucent" data-position=9>NOTIFICATION<span class=button_tally>9</span></a>
<a href=https://bas-man.github.io/tags/notify/ class="post_tag button button_translucent" data-position=1>NOTIFY<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/os/ class="post_tag button button_translucent" data-position=2>OS<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/padding/ class="post_tag button button_translucent" data-position=1>PADDING<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/perl/ class="post_tag button button_translucent" data-position=3>PERL<span class=button_tally>3</span></a>
<a href=https://bas-man.github.io/tags/plex/ class="post_tag button button_translucent" data-position=2>PLEX<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/post/ class="post_tag button button_translucent" data-position=1>POST<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/postfix/ class="post_tag button button_translucent" data-position=1>POSTFIX<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/presence/ class="post_tag button button_translucent" data-position=1>PRESENCE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/pytest/ class="post_tag button button_translucent" data-position=1>PYTEST<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/python/ class="post_tag button button_translucent" data-position=16>PYTHON<span class=button_tally>16</span></a>
<a href=https://bas-man.github.io/tags/python3/ class="post_tag button button_translucent" data-position=1>PYTHON3<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/qr/ class="post_tag button button_translucent" data-position=1>QR<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/qr-code/ class="post_tag button button_translucent" data-position=1>QR-CODE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/raspberry/ class="post_tag button button_translucent" data-position=1>RASPBERRY<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/rebase/ class="post_tag button button_translucent" data-position=1>REBASE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/regex/ class="post_tag button button_translucent" data-position=3>REGEX<span class=button_tally>3</span></a>
<a href=https://bas-man.github.io/tags/rewrite/ class="post_tag button button_translucent" data-position=1>REWRITE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/schedule/ class="post_tag button button_translucent" data-position=1>SCHEDULE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/self-hosted/ class="post_tag button button_translucent" data-position=1>SELF-HOSTED<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/site/ class="post_tag button button_translucent" data-position=1>SITE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/stretch/ class="post_tag button button_translucent" data-position=1>STRETCH<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/strings/ class="post_tag button button_translucent" data-position=1>STRINGS<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/test/ class="post_tag button button_translucent" data-position=2>TEST<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/testing/ class="post_tag button button_translucent" data-position=1>TESTING<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/thoughts/ class="post_tag button button_translucent" data-position=1>THOUGHTS<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/unicode/ class="post_tag button button_translucent" data-position=2>UNICODE<span class=button_tally>2</span></a>
<a href=https://bas-man.github.io/tags/upgrade/ class="post_tag button button_translucent" data-position=1>UPGRADE<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/workflow/ class="post_tag button button_translucent" data-position=1>WORKFLOW<span class=button_tally>1</span></a>
<a href=https://bas-man.github.io/tags/zapier/ class="post_tag button button_translucent" data-position=2>ZAPIER<span class=button_tally>2</span></a><div class=tags_sort><span title="sort alphabetically">[A~Z]</span><span title="sort by count">[0~9]</span></div><span class=tags_hide><svg class="icon"><use xlink:href="#closeme"/></svg></span></div></div></nav></div></section></aside></div></main><svg width="0" height="0" class="hidden"><symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="facebook"><path d="M437 0H75C33.648.0.0 33.648.0 75v362c0 41.352 33.648 75 75 75h151V331h-60v-90h60v-61c0-49.629 40.371-90 90-90h91v90h-91v61h91l-15 90h-76v181h121c41.352.0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zm0 0"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18.001 18.001" id="twitter"><path d="M15.891 4.013c.808-.496 1.343-1.173 1.605-2.034a8.68 8.68.0 01-2.351.861c-.703-.756-1.593-1.14-2.66-1.14-1.043.0-1.924.366-2.643 1.078a3.56 3.56.0 00-1.076 2.605c0 .309.039.585.117.819-3.076-.105-5.622-1.381-7.628-3.837-.34.601-.51 1.213-.51 1.846.0 1.301.549 2.332 1.645 3.089-.625-.053-1.176-.211-1.645-.47.0.929.273 1.705.82 2.388a3.623 3.623.0 002.115 1.291c-.312.08-.641.118-.979.118-.312.0-.533-.026-.664-.083.23.757.664 1.371 1.291 1.841a3.652 3.652.0 002.152.743C4.148 14.173 2.625 14.69.902 14.69c-.422.0-.721-.006-.902-.038 1.697 1.102 3.586 1.649 5.676 1.649 2.139.0 4.029-.542 5.674-1.626 1.645-1.078 2.859-2.408 3.639-3.974a10.77 10.77.0 001.172-4.892v-.468a7.788 7.788.0 001.84-1.921 8.142 8.142.0 01-2.11.593z"/></symbol><symbol aria-hidden="true" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="mail"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V4e2c0 26.5-21.5 48-48 48H48c-26.5.0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5.0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="calendar"><path d="M452 40h-24V0h-40v40H124V0H84v40H60C26.916 40 0 66.916.0 1e2v352c0 33.084 26.916 60 60 60h392c33.084.0 60-26.916 60-60V1e2c0-33.084-26.916-60-60-60zm20 412c0 11.028-8.972 20-20 20H60c-11.028.0-20-8.972-20-20V188h432v264zm0-304H40v-48c0-11.028 8.972-20 20-20h24v40h40V80h264v40h40V80h24c11.028.0 20 8.972 20 20v48z"/><path d="M76 230h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 310h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zM76 390h40v40H76zm80 0h40v40h-40zm80 0h40v40h-40zm80 0h40v40h-40zm80-80h40v40h-40z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="github"><path d="M255.968 5.329C114.624 5.329.0 120.401.0 262.353c0 113.536 73.344 209.856 175.104 243.872 12.8 2.368 17.472-5.568 17.472-12.384.0-6.112-.224-22.272-.352-43.712-71.2 15.52-86.24-34.464-86.24-34.464-11.616-29.696-28.416-37.6-28.416-37.6-23.264-15.936 1.728-15.616 1.728-15.616 25.696 1.824 39.2 26.496 39.2 26.496 22.848 39.264 59.936 27.936 74.528 21.344 2.304-16.608 8.928-27.936 16.256-34.368-56.832-6.496-116.608-28.544-116.608-127.008.0-28.064 9.984-51.008 26.368-68.992-2.656-6.496-11.424-32.64 2.496-68 0 0 21.504-6.912 70.4 26.336 20.416-5.696 42.304-8.544 64.096-8.64 21.728.128 43.648 2.944 64.096 8.672 48.864-33.248 70.336-26.336 70.336-26.336 13.952 35.392 5.184 61.504 2.56 68 16.416 17.984 26.304 40.928 26.304 68.992.0 98.72-59.84 120.448-116.864 126.816 9.184 7.936 17.376 23.616 17.376 47.584.0 34.368-.32 62.08-.32 70.496.0 6.88 4.608 14.88 17.6 12.352C438.72 472.145 512 375.857 512 262.353 512 120.401 397.376 5.329 255.968 5.329z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 212 212" id="gitlab"><path d="M12.3 74.7h54L43.3 3c-1-3.6-6.4-3.6-7.6.0L12.3 74.8z"/><path d="M12.3 74.7.5 111c-1 3.2.0 6.8 3 8.8l101.6 74-92.5-119z"/><path d="M105 193.7l-38.6-119h-54l92.7 119z"/><path d="M105 193.7l38.7-119H66.4l38.7 119z"/><path d="M105 193.7l38.7-119H198l-93 119z"/><path d="M198 74.7l11.6 36.2c1 3 0 6.6-3 8.6l-101.5 74 93-119z"/><path d="M198 74.7h-54.3L167 3c1.2-3.6 6.4-3.6 7.6.0L198 74.8z"/></symbol><symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="rss"><circle cx="3.429" cy="20.571" r="3.429"/><path d="M11.429 24h4.57C15.999 15.179 8.821 8.001.0 8v4.572c6.302.001 11.429 5.126 11.429 11.428z"/><path d="M24 24C24 10.766 13.234.0.0.0v4.571c10.714.0 19.43 8.714 19.43 19.429z"/></symbol><symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="linkedin"><path d="M437 0H75C33.648.0.0 33.648.0 75v362c0 41.352 33.648 75 75 75h362c41.352.0 75-33.648 75-75V75c0-41.352-33.648-75-75-75zM181 406h-60V196h60zm0-240h-60v-60h60zm210 240h-60V286c0-16.54-13.46-30-30-30s-30 13.46-30 30v120h-60V196h60v11.309C286.719 202.422 296.93 196 316 196c40.691.043 75 36.547 75 79.688zm0 0"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" id="arrow"><path d="M604.501 440.509 325.398 134.956c-5.331-5.357-12.423-7.627-19.386-7.27-6.989-.357-14.056 1.913-19.387 7.27L7.499 440.509c-9.999 10.024-9.999 26.298.0 36.323s26.223 10.024 36.222.0l262.293-287.164L568.28 476.832c9.999 10.024 26.222 10.024 36.221.0 9.999-10.023 9.999-26.298.0-36.323z"/></symbol><symbol viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="carly"><path d="M504.971 239.029 448 182.059V84c0-46.317-37.682-84-84-84h-44c-13.255.0-24 10.745-24 24s10.745 24 24 24h44c19.851.0 36 16.149 36 36v108c0 6.365 2.529 12.47 7.029 16.971L454.059 256l-47.029 47.029A24.002 24.002.0 004e2 320v108c0 19.851-16.149 36-36 36h-44c-13.255.0-24 10.745-24 24s10.745 24 24 24h44c46.318.0 84-37.683 84-84v-98.059l56.971-56.971c9.372-9.372 9.372-24.568.0-33.941zM112 192V84c0-19.851 16.149-36 36-36h44c13.255.0 24-10.745 24-24S205.255.0 192 0h-44c-46.318.0-84 37.683-84 84v98.059l-56.971 56.97c-9.373 9.373-9.373 24.568.0 33.941L64 329.941V428c0 46.317 37.682 84 84 84h44c13.255.0 24-10.745 24-24s-10.745-24-24-24h-44c-19.851.0-36-16.149-36-36V320c0-6.365-2.529-12.47-7.029-16.971L57.941 256l47.029-47.029A24.002 24.002.0 00112 192z"/></symbol><symbol viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" id="copy"><path d="M23 2.75A2.75 2.75.0 0020.25.0H8.75A2.75 2.75.0 006 2.75v13.5A2.75 2.75.0 008.75 19h11.5A2.75 2.75.0 0023 16.25zM18.25 14.5h-7.5a.75.75.0 010-1.5h7.5a.75.75.0 010 1.5zm0-3h-7.5a.75.75.0 010-1.5h7.5a.75.75.0 010 1.5zm0-3h-7.5a.75.75.0 010-1.5h7.5a.75.75.0 010 1.5z"/><path d="M8.75 20.5A4.255 4.255.0 014.5 16.25V2.75c0-.086.02-.166.025-.25H3.75A2.752 2.752.0 001 5.25v16A2.752 2.752.0 003.75 24h12a2.752 2.752.0 002.75-2.75v-.75z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512.001 512.001" id="closeme"><path d="M284.286 256.002 506.143 34.144c7.811-7.811 7.811-20.475.0-28.285-7.811-7.81-20.475-7.811-28.285.0L256 227.717 34.143 5.859c-7.811-7.811-20.475-7.811-28.285.0-7.81 7.811-7.811 20.475.0 28.285l221.857 221.857L5.858 477.859c-7.811 7.811-7.811 20.475.0 28.285a19.938 19.938.0 0014.143 5.857 19.94 19.94.0 0014.143-5.857L256 284.287l221.857 221.857c3.905 3.905 9.024 5.857 14.143 5.857s10.237-1.952 14.143-5.857c7.811-7.811 7.811-20.475.0-28.285L284.286 256.002z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" id="open-menu"><path d="M492 236H20c-11.046.0-20 8.954-20 20s8.954 20 20 20h472c11.046.0 20-8.954 20-20s-8.954-20-20-20zm0-160H20C8.954 76 0 84.954.0 96s8.954 20 20 20h472c11.046.0 20-8.954 20-20s-8.954-20-20-20zm0 320H20c-11.046.0-20 8.954-20 20s8.954 20 20 20h472c11.046.0 20-8.954 20-20s-8.954-20-20-20z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="instagram"><path d="M12 2.163c3.204.0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849.0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204.0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849.0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zM12 0C8.741.0 8.333.014 7.053.072c-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948s.014 3.668.072 4.948c.2 4.358 2.618 6.78 6.98 6.98C8.333 23.986 8.741 24 12 24s3.668-.014 4.948-.072c4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948s-.014-3.667-.072-4.947c-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403.0-6.162 2.759-6.162 6.162S8.597 18.163 12 18.163s6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zM12 16c-2.209.0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796.0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795.0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="youtube"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23.0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23.0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816V8l8 3.993L9 16z"/></symbol><symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="stackoverflow"><path d="M21 27v-8h3v11H0V19h3v8h18z"/><path d="M17.1.2 15 1.8l7.9 10.6 2.1-1.6L17.1.2zm3.7 14.7L10.6 6.4l1.7-2 10.2 8.5-1.7 2zM7.2 12.3l12 5.6 1.1-2.4-12-5.6-1.1 2.4zm-1.8 6.8 13.56 1.96.17-2.38-13.26-2.55-.47 2.97zM19 25H5v-3h14v3z"/></symbol><symbol height="32" width="32" style="enable-background:new 0 0 512 512" xmlns="http://www.w3.org/2000/svg" id="dev" viewBox="0 0 24 24"><path d="M7.73 11.93c0 1.72-.02 1.83-.23 2.07-.19.17-.38.23-.76.23l-.51.01-.03-2.27-.02-2.27h.52c.35.0.6.07.77.21.24.21.26.25.26 2.02M22 7.5v9c0 1.11-.89 2-2 2H4c-1.11.0-2-.89-2-2v-9c0-1.11.89-2 2-2h16c1.11.0 2 .89 2 2M8.93 11.73c-.03-1.84-.05-1.99-.29-2.39-.4-.68-.85-.84-2.36-.84H5v7h1.21c1.33.0 1.89-.17 2.29-.71.41-.53.5-.98.43-3.06m4.19-3.23h-1.48c-1.49.0-1.5.0-1.71.28S9.7 9.21 9.7 12v2.96l.27.27c.25.27.31.27 1.71.27h1.44v-1.19l-1.09-.04-1.1-.03V12.6l.68-.03.66-.04v-1.19h-1.39V9.7h2.24V8.5m5.88.06c0-.06-.3-.06-.66-.06l-.68.06-.59 2.35c-.38 1.48-.62 2.27-.67 2.13-.08-.27-1.14-4.44-1.14-4.49.0-.05-.31-.05-.68-.05h-.69l.41 1.55c.2.87.59 2.28.81 3.15.34 1.35.46 1.65.75 1.94.2.22.45.36.61.36.33.0.76-.34.9-.73C17.5 14.5 19 8.69 19 8.56z" fill="#626262"/></symbol><symbol height="32" style="enable-background:new 0 0 512 512" version="1.1" viewBox="0 0 512 512" width="32" id="flipboard" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g id="_x31_31-flipboard"><g><g><path d="M26.002 26.001v459.998h459.996V26.001H26.002zm367.997 184H302V302h-92v92.001h-92V118.002h275.999V210.001z" style="fill:#f22c31"/></g></g></g><g id="Layer_1"/></symbol></svg><div class=cookie-container><p>By using this site, you agree to our use of cookies.
We use cookies on this website to give you the best experience on our
site. To find out more, read our <a href=/privacy/>privacy</a> policy.</p><button class=cookie-btn>
Okay</button></div><script src=/js/custom.js></script><footer class=footer><div class="footer_inner wrap pale"><img src=https://bas-man.github.io/icons/apple-touch-icon.png class="icon icon_2 transparent"><p>Copyright 2019-<span class=year></span> BAS-MAN'S MUSINGS. All Rights Reserved.
<a href=https://bas-man.github.io//privacy>Privacy</a></p><a class=to_top href=#documentTop><svg class="icon"><use xlink:href="#arrow"/></svg></a></div></footer><script type=text/javascript src=https://bas-man.github.io/js/bundle.min.e1e83e690639bd489630e0481025439217297c7425a9c6349d82cd043a90b5287ee4a9f76828ae630e935cdae3b7536d2dbfee1465d1275874e037065e918b88.js integrity="sha512-4eg+aQY5vUiWMOBIECVDkhcpfHQlqcY0nYLNBDqQtSh+5Kn3aCiuYw6TXNrjt1NtLb/uFGXRJ1h04DcGXpGLiA==" crossorigin=anonymous></script><script type=text/javascript src=/js/custom.js></script></body></html>